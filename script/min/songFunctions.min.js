function copySongFormData(e){var n=$("#frmNewUpdateSong");$(e).find("input[type=hidden]").each(function(){n.find("[name=txt"+this.name.split("hid")[1]+"]").val(this.value)})}function verifyDeleteOfSong(e,n){return window.confirm("Delete song #"+e+", "+n+"?")}function checkFileExtension(e){var n=e.substring(e.length-3);return n=n.toLowerCase(),"ogg"!==n?!1:!0}function validateSongFormData(e){var e=document.getElementById("frmNewUpdateSong");try{if(0===e.selArtistId.selectedIndex)throw new Error("Artist is missing!");if(""===e.txtTitle.value)throw new Error("Songtitle is missing!");if(""===e.hidId.value){if(""===e.fileSoundFileName.value)throw new Error("Soundname is missing!");if(checkFileExtension(e.fileSoundFileName.value)===!1)throw new Error("Only ogg files are valid!")}if(""!==e.hidId.value&&(null!==e.hidSoundFileName.value||""!==e.hidSoundFileName.value)&&0==checkFileExtension(e.hidSoundFileName.value))throw new Error("Only ogg files are valid!");if(""===e.txtCount.value)throw new Error("Count is missing!");if(isNaN(e.txtCount.value))throw new Error("Count is not a number!");return!0}catch(n){return window.document.getElementById("jsErrorMsg").innerHTML=n.message,!1}}$("[name=btnEdit]").click(function(e){e.preventDefault(),copySongFormData(e.target.parentNode)}),$("form[name=frmSong]").submit(function(e){e.preventDefault();var n=$(e.target).find("[name=hidId]").val();verifyDeleteOfSong(n,$(e.target).find("[name=hidTitle]").val())?(console.debug("Delete comment w. AJAX."),$(e.target.parentNode).remove(),$("h3#s"+n).remove()):console.debug("Canceled delete.")}),$("form[name=frmNewUpdateSong]").submit(function(e){e.preventDefault(),validateSongFormData(this)}),$("#songs-accordion").accordion();